(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{422:function(e,r,t){"use strict";t.r(r);var a=t(27),s=Object(a.a)({},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"wsl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wsl","aria-hidden":"true"}},[e._v("#")]),e._v(" wsl")]),e._v(" "),t("h2",{attrs:{id:"启用-linux-的-windows-子系统-以管理员身份运行-windows-powershell"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启用-linux-的-windows-子系统-以管理员身份运行-windows-powershell","aria-hidden":"true"}},[e._v("#")]),e._v(' 启用"Linux 的 Windows 子系统" -> 以管理员身份运行 windows powershell')]),e._v(" "),t("p",[e._v("dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart")]),e._v(" "),t("h2",{attrs:{id:"启用虚拟机平台"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启用虚拟机平台","aria-hidden":"true"}},[e._v("#")]),e._v(" 启用虚拟机平台")]),e._v(" "),t("p",[e._v("dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart")]),e._v(" "),t("h2",{attrs:{id:"重启系统-安装-wsl-update-x64-msi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重启系统-安装-wsl-update-x64-msi","aria-hidden":"true"}},[e._v("#")]),e._v(" 重启系统 & 安装 "),t("a",{attrs:{href:"https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi",target:"_blank",rel:"noopener noreferrer"}},[e._v("wsl_update_x64.msi"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"将-wsl-2-设置为默认版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将-wsl-2-设置为默认版本","aria-hidden":"true"}},[e._v("#")]),e._v(" 将 WSL 2 设置为默认版本")]),e._v(" "),t("p",[e._v("wsl --set-default-version 2")]),e._v(" "),t("h2",{attrs:{id:"关闭子系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关闭子系统","aria-hidden":"true"}},[e._v("#")]),e._v(" 关闭子系统")]),e._v(" "),t("p",[e._v("wsl --shutdown")]),e._v(" "),t("h2",{attrs:{id:"windows-商店安装-ubuntu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows-商店安装-ubuntu","aria-hidden":"true"}},[e._v("#")]),e._v(" windows 商店安装 Ubuntu")]),e._v(" "),t("h2",{attrs:{id:"测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试","aria-hidden":"true"}},[e._v("#")]),e._v(" 测试")]),e._v(" "),t("p",[e._v("apt update && apt install python3 python3-pip")]),e._v(" "),t("h2",{attrs:{id:"root-权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#root-权限","aria-hidden":"true"}},[e._v("#")]),e._v(" root 权限")]),e._v(" "),t("p",[e._v("sudo -i")]),e._v(" "),t("h2",{attrs:{id:"记住密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#记住密码","aria-hidden":"true"}},[e._v("#")]),e._v(" 记住密码")]),e._v(" "),t("p",[e._v('sudo echo "leap ALL=(ALL:ALL) NOPASSWD: ALL" >>/etc/sudoers')]),e._v(" "),t("h2",{attrs:{id:"更换安装源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更换安装源","aria-hidden":"true"}},[e._v("#")]),e._v(" 更换安装源")]),e._v(" "),t("p",[e._v('cp /etc/apt/sources.list /etc/apt/sources.list.bak\necho "deb http://mirrors.aliyun.com/ubuntu/ focal main restricted\ndeb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted\ndeb http://mirrors.aliyun.com/ubuntu/ focal universe\ndeb http://mirrors.aliyun.com/ubuntu/ focal-updates universe\ndeb http://mirrors.aliyun.com/ubuntu/ focal multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-updates multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted\ndeb http://mirrors.aliyun.com/ubuntu/ focal-security universe\ndeb http://mirrors.aliyun.com/ubuntu/ focal-security multiverse">/etc/apt/sources.list')]),e._v(" "),t("p",[e._v("apt update && apt upgrade -y")]),e._v(" "),t("h2",{attrs:{id:"安装-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker","aria-hidden":"true"}},[e._v("#")]),e._v(" 安装 docker")]),e._v(" "),t("p",[e._v("curl -fsSL https://get.docker.com -o get-docker.sh\nsh get-docker.sh\nservice docker start")]),e._v(" "),t("h2",{attrs:{id:"检查-dockerd-进程启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查-dockerd-进程启动","aria-hidden":"true"}},[e._v("#")]),e._v(" 检查 dockerd 进程启动")]),e._v(" "),t("p",[e._v("service docker status\nps aux|grep docker")]),e._v(" "),t("h2",{attrs:{id:"检查拉取镜像等正常"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查拉取镜像等正常","aria-hidden":"true"}},[e._v("#")]),e._v(" 检查拉取镜像等正常")]),e._v(" "),t("p",[e._v("docker pull busybox\ndocker images")]),e._v(" "),t("h2",{attrs:{id:"测试-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 测试")]),e._v(" "),t("p",[e._v("docker swarm init | docker swarm join\ndocker node ls")]),e._v(" "),t("h2",{attrs:{id:"获取加入-swarm-的-token"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取加入-swarm-的-token","aria-hidden":"true"}},[e._v("#")]),e._v(" 获取加入 swarm 的 token")]),e._v(" "),t("p",[e._v("docker swarm join-token worker")]),e._v(" "),t("h2",{attrs:{id:"文件编辑权限问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件编辑权限问题","aria-hidden":"true"}},[e._v("#")]),e._v(" 文件编辑权限问题")]),e._v(" "),t("p",[e._v("sudo chown -R tangdw yunke")]),e._v(" "),t("h2",{attrs:{id:"docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker","aria-hidden":"true"}},[e._v("#")]),e._v(" docker")]),e._v(" "),t("p",[e._v("systemctl enable docker #开机自启\nservice docker start #启动 docker\nservice docker stop #停止 docker\nservice docker restart #重启 docker")]),e._v(" "),t("h2",{attrs:{id:"根据-目录下的-dockerfile-构建镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据-目录下的-dockerfile-构建镜像","aria-hidden":"true"}},[e._v("#")]),e._v(" 根据 . 目录下的 dockerfile 构建镜像")]),e._v(" "),t("p",[e._v("sudo docker build --rm -t property-center .")]),e._v(" "),t("h2",{attrs:{id:"以某镜像起一个容器-name-net"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#以某镜像起一个容器-name-net","aria-hidden":"true"}},[e._v("#")]),e._v(" 以某镜像起一个容器 --name --net")]),e._v(" "),t("p",[e._v("sudo docker run -P -d --name p1 --mount type=bind,source=$HOME/yunke,target=/workspace/app property-center")]),e._v(" "),t("p",[e._v("映射默认端口 -p :7000")]),e._v(" "),t("h2",{attrs:{id:"查看容器-ip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看容器-ip","aria-hidden":"true"}},[e._v("#")]),e._v(" 查看容器 ip")]),e._v(" "),t("p",[e._v("sudo docker inspect p1\nsudo docker port p1\nsudo docker logs p1\nsudo docker inspect p1")]),e._v(" "),t("h2",{attrs:{id:"ssh-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh-安装","aria-hidden":"true"}},[e._v("#")]),e._v(" ssh 安装")]),e._v(" "),t("p",[e._v("Get-WindowsCapability -Online | ? Name -like 'OpenSSH*'")]),e._v(" "),t("h2",{attrs:{id:"openssh-client"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#openssh-client","aria-hidden":"true"}},[e._v("#")]),e._v(" OpenSSH Client")]),e._v(" "),t("p",[e._v("Add-WindowsCapability -Online -Name OpenSSH.Client~~~~0.0.1.0")]),e._v(" "),t("h2",{attrs:{id:"openssh-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#openssh-server","aria-hidden":"true"}},[e._v("#")]),e._v(" OpenSSH Server")]),e._v(" "),t("p",[e._v("Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0")]),e._v(" "),t("h2",{attrs:{id:"启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动","aria-hidden":"true"}},[e._v("#")]),e._v(" 启动")]),e._v(" "),t("p",[e._v("Start-Service sshd\nSet-Service -Name sshd -StartupType 'Automatic'\nGet-NetFirewallRule -Name "),t("em",[e._v("ssh")]),e._v("\nNew-NetFirewallRule -Name sshd -DisplayName 'OpenSSH Server (sshd)' -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 22")])])},[],!1,null,null,null);r.default=s.exports}}]);